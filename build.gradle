plugins {
  id 'java-library'
  id 'antlr'
  id 'eclipse'
  id "org.jetbrains.kotlin.jvm" version "1.3.71"
  id "org.jetbrains.kotlin.kapt" version "1.3.71"
}

repositories {
  jcenter()
}

dependencies {
  antlr "org.antlr:antlr4:4.8"
  implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
  testImplementation 'org.junit.jupiter:junit-jupiter:5.6.1'
  testImplementation "org.jetbrains.kotlin:kotlin-test-junit5"
}

java {
  sourceCompatibility = JavaVersion.VERSION_11
  targetCompatibility = JavaVersion.VERSION_11
  withJavadocJar()
  withSourcesJar()
}

generateGrammarSource {
  arguments += ["-encoding", "UTF-8",
                "-visitor",
                "-listener",
                "-long-messages",
                "-package", "com.pthariensflame.truffle_dhall.parser.antlr"]
}


